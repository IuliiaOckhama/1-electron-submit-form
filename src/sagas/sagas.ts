/* eslint-disable import/first */
import { takeLatest, put, call } from 'redux-saga/effects'

/******************************************************************************/
/******************************* TYPES ****************************************/
/******************************************************************************/

import { FETCH_NOTES } from '../actions/types'

/******************************************************************************/
/******************************* ACTIONS **************************************/
/******************************************************************************/

import { setNotes } from '../actions/dataActions'

/******************************************************************************/
/******************************* HELPERS **************************************/
/******************************************************************************/

import { fetchNotesApi } from './api'

/******************************************************************************/
/******************************* SAGAS *************************************/
/******************************************************************************/

function* handleSetDataSaga() {
 try {
  const notes = yield call(fetchNotesApi)
  yield put(setNotes(notes.data))
 } catch (error) {
  console.log('error', error)
 }
}

export function* setDataSaga() {
 yield takeLatest(FETCH_NOTES, handleSetDataSaga)
}
