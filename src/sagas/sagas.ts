/* eslint-disable import/first */
import { takeLatest, put, select } from 'redux-saga/effects'

/******************************************************************************/
/******************************* SELECTORS ************************************/
/******************************************************************************/

import { State } from '../reducers'

const getData = (state: State) => state.data.data

/******************************************************************************/
/******************************* TYPES ****************************************/
/******************************************************************************/

import {
  SET_DATA
} from '../actions/types'

/******************************************************************************/
/******************************* ACTIONS **************************************/
/******************************************************************************/

import {
  setData
} from '../actions/dataActions'

/******************************************************************************/
/******************************* HELPERS **************************************/
/******************************************************************************/

/******************************************************************************/
/******************************* SAGAS *************************************/
/******************************************************************************/

function* handleSetDataSaga() {
  try {
    const data = yield select(getData)
    console.log(data, 'ping')
    yield put(setData('some data'))
  } catch (error) {
    console.log('error', error)
  }
}

export function* setDataSaga() {
  yield takeLatest(SET_DATA, handleSetDataSaga)
}